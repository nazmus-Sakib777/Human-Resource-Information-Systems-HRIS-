<div class="container mt-4">
  <h2 class="mb-3">Salary Process Management</h2>

  <form (ngSubmit)="onSubmit()" #form="ngForm">
    <mat-grid-list cols="3" rowHeight="100px" gutterSize="16px">
      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Process ID</mat-label>
          <input matInput [(ngModel)]="salaryProcessForm.processID" name="processID" required>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Month No</mat-label>
          <input matInput type="number" [(ngModel)]="salaryProcessForm.monthNo" name="monthNo" required min="1" max="12">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Year No</mat-label>
          <input matInput type="number" [(ngModel)]="salaryProcessForm.yearNo" name="yearNo" required>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>From Date</mat-label>
          <input matInput [matDatepicker]="fromPicker" [(ngModel)]="salaryProcessForm.fromDate" name="fromDate" required>
          <mat-datepicker-toggle matSuffix [for]="fromPicker"></mat-datepicker-toggle>
          <mat-datepicker #fromPicker></mat-datepicker>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>To Date</mat-label>
          <input matInput [matDatepicker]="toPicker" [(ngModel)]="salaryProcessForm.toDate" name="toDate" required>
          <mat-datepicker-toggle matSuffix [for]="toPicker"></mat-datepicker-toggle>
          <mat-datepicker #toPicker></mat-datepicker>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Salary Head Name</mat-label>
          <input matInput [(ngModel)]="salaryProcessForm.salaryHeadName" name="salaryHeadName" required>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Amount</mat-label>
          <input matInput type="number" [(ngModel)]="salaryProcessForm.amount" name="amount" required>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Type</mat-label>
          <input matInput [(ngModel)]="salaryProcessForm.type" name="type" maxlength="6" required>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Process Date</mat-label>
          <input matInput [matDatepicker]="procPicker" [(ngModel)]="salaryProcessForm.processDate" name="processDate" required>
          <mat-datepicker-toggle matSuffix [for]="procPicker"></mat-datepicker-toggle>
          <mat-datepicker #procPicker></mat-datepicker>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Processed By</mat-label>
          <input matInput [(ngModel)]="salaryProcessForm.processedBy" name="processedBy">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Employee ID</mat-label>
          <input matInput [(ngModel)]="salaryProcessForm.employeeID" name="employeeID" required>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Salary Entry ID</mat-label>
          <input matInput [(ngModel)]="salaryProcessForm.salaryEntryID" name="salaryEntryID" required>
        </mat-form-field>
      </mat-grid-tile>
    </mat-grid-list>

    <div class="mt-3">
      <button mat-raised-button color="primary" type="submit">
        {{ isEdit ? 'Update' : 'Add' }}
      </button>
      <button mat-stroked-button color="warn" type="button" (click)="resetForm()" class="ms-2">
        Clear
      </button>
    </div>
  </form>

  <mat-divider class="my-4"></mat-divider>

<table mat-table [dataSource]="salaryProcess" class="mat-elevation-z8" style="width: 100%;">

    <ng-container matColumnDef="processID">
      <th mat-header-cell *matHeaderCellDef> Process ID </th>
      <td mat-cell *matCellDef="let item"> {{item.processID}} </td>
    </ng-container>

    <ng-container matColumnDef="monthNo">
      <th mat-header-cell *matHeaderCellDef> Month </th>
      <td mat-cell *matCellDef="let item"> {{item.monthNo}} </td>
    </ng-container>

    <ng-container matColumnDef="yearNo">
      <th mat-header-cell *matHeaderCellDef> Year </th>
      <td mat-cell *matCellDef="let item"> {{item.yearNo}} </td>
    </ng-container>

    <ng-container matColumnDef="fromDate">
      <th mat-header-cell *matHeaderCellDef> From </th>
      <td mat-cell *matCellDef="let item"> {{item.fromDate}} </td>
    </ng-container>

    <ng-container matColumnDef="toDate">
      <th mat-header-cell *matHeaderCellDef> To </th>
      <td mat-cell *matCellDef="let item"> {{item.toDate}} </td>
    </ng-container>

    <ng-container matColumnDef="salaryHeadName">
      <th mat-header-cell *matHeaderCellDef> Head </th>
      <td mat-cell *matCellDef="let item"> {{item.salaryHeadName}} </td>
    </ng-container>

    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef> Amount </th>
      <td mat-cell *matCellDef="let item"> {{item.amount}} </td>
    </ng-container>

    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef> Type </th>
      <td mat-cell *matCellDef="let item"> {{item.type}} </td>
    </ng-container>

    <ng-container matColumnDef="processDate">
      <th mat-header-cell *matHeaderCellDef> Date </th>
      <td mat-cell *matCellDef="let item"> {{item.processDate}} </td>
    </ng-container>

    <ng-container matColumnDef="processedBy">
      <th mat-header-cell *matHeaderCellDef> By </th>
      <td mat-cell *matCellDef="let item"> {{item.processedBy}} </td>
    </ng-container>

    <ng-container matColumnDef="employeeID">
      <th mat-header-cell *matHeaderCellDef> Employee </th>
      <td mat-cell *matCellDef="let item"> {{item.employeeID}} </td>
    </ng-container>

    <ng-container matColumnDef="salaryEntryID">
      <th mat-header-cell *matHeaderCellDef> Entry ID </th>
      <td mat-cell *matCellDef="let item"> {{item.salaryEntryID}} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> Actions </th>
      <td mat-cell *matCellDef="let item">
        <button mat-icon-button color="primary" (click)="editItem(item)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteItem(item.processID!)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
